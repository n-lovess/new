CHIP P2S {
    IN indata[4], enable, load;
    OUT sout, complete;

    PARTS:

    Register(in[0..3]=indata, load=load, out[0..3]=storedData);

    Register(in=nextCount, load=enable, out=count);
    Inc16(in=count, out=incrementedCount);
    Mux16(a=count, b=false, sel=load, out=nextCount); 

    Mux4Way16(a=storedData[0], b=storedData[1], c=storedData[2], d=storedData[3], sel=count[0..1], out=sout);

    And(a=count[1], b=count[0], out=done);
    And(a=done, b=enable, out=complete);
}